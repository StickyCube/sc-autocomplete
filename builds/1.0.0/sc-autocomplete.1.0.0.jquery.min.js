!function(){function a(a){this.dropdown=f(a[0],j.List),e(a[0])}function b(a){return void 0!==a&&null!==a}function c(a){return b(a)&&(a.constructor===Array||a.constructor===Object)}function d(a){return b(a)&&a.constructor===Array}function e(a){var b=f(a,j.ScreenCover);b&&(g(b,"position","fixed"),g(b,"top",0),g(b,"left",0),g(b,"width","100%"),g(b,"height","100%"),g(b,"background-color","transparent"),g(b,"z-index",1))}function f(a,b){var c=a.getElementsByClassName(b);return 1!==c.length?null:c[0]}function g(a,b,c){if(i()||!a.setAttribute)return void(a.style[h(b)]=c);var d=a.getAttribute("style")||"";d+=b+":"+c+";",a.setAttribute("style",d)}function h(a){var b="";return a.split("-").forEach(function(a,c){return 0===c?void(b+=a):(b+=a[0].toUpperCase(),void(b+=a.substr(1)))}),b}function i(){return-1!==window.navigator.userAgent.indexOf("MSIE")}var j={List:"sc-autocomplete-list",ListItem:"sc-autocomplete-listitem",ScreenCover:"sc-autocomplete-screencover"};a.prototype.constructor=a,a.prototype.searchText="",a.prototype.activeIndex=0,a.prototype.dropdown=null,a.prototype.searchables={},a.prototype.searchItems={},a.prototype.searchResults=[],a.prototype.callbacks={},a.prototype.recompile=function(a){if(c(a)){this.searchables=a,this.searchItems={};var b=d(a),e=function(a){return a.trim().toLowerCase()};for(var f in a)if(a.hasOwnProperty(f)){var g=a[f],h=b?g:f,i=b?[g]:g.split("|").concat(f);this.searchItems[h]=i.map(e)}}},a.prototype.scrollTo=function(a){var b,c,d,e,f;b=this.dropdown.getElementsByClassName(j.ListItem),a>=b.length||0>a||(b=b[a],c=b.offsetTop,d=c+b.offsetHeight,e=this.dropdown.scrollTop,f=this.dropdown.offsetHeight,d>e+f?this.dropdown.scrollTop=d-f:e>c&&(this.dropdown.scrollTop=c))},a.prototype.search=function(){var a=this,b=function(b){return b.indexOf(a.searchText.toLowerCase())>-1};this.searchResults.length=0;for(var c in this.searchItems)if(this.searchItems.hasOwnProperty(c)){var d=this.searchItems[c];d.some(b)&&this.searchResults.push(c)}},a.prototype.onKeydown=function(a){if(this.searchResults.length)switch(a.keyCode){case 27:a.preventDefault(),a.stopPropagation(),this.cancelSelection();break;case 38:a.preventDefault(),a.stopPropagation(),this.selectOptionAt(this.activeIndex-1);break;case 40:a.preventDefault(),a.stopPropagation(),this.selectOptionAt(this.activeIndex+1);break;case 13:a.preventDefault(),a.stopPropagation(),this.onSelect(this.activeIndex)}},a.prototype.cancelSelection=function(){this.setSelection(""),this.activeIndex=0,this.searchResults.length=0},a.prototype.onSelect=function(a){var b=this.searchResults[a];this.setSelection(b),this.activeIndex=0,this.searchResults.length=0},a.prototype.onBlur=function(){var a=Object.keys(this.searchItems);-1==a.indexOf(this.searchText)&&this.setSelection(""),this.activeIndex=0,this.searchResults.length=0},a.prototype.selectOptionAt=function(a){0>a?a=0:a>=this.searchResults.length&&(a=this.searchResults.length-1),this.activeIndex=a,this.setText(this.searchResults[a]),this.scrollTo(a)},a.prototype.on=function(a,b){d(this.callbacks[a])||(this.callbacks[a]=[]),this.callbacks[a].push(b)},a.prototype.trigger=function(a){if(d(this.callbacks[a])){var b=Array.prototype.slice.call(arguments,1);this.callbacks[a].forEach(function(a){a.apply(null,b)})}},a.prototype.setText=function(a){this.searchText=a,this.trigger("text-changed",a)},a.prototype.setSelection=function(a){this.searchText=this.selection=a,this.trigger("selection-changed",a)},function(b){"use strict";function c(c){c.addClass(d.Container);var i=g.clone().appendTo(c),j=e.clone().appendTo(c),k=h.clone().appendTo(c),l=new a(c);l.on("text-changed",function(a){i.val(a)}),l.on("selection-changed",function(a){var d=b.Event("sc.autocomplete.selection",{selection:l.selection});i.val(a).blur(),c.trigger(d)});var m=function(){return j.find("."+d.ListItem).remove(),l.searchResults.length?(l.searchResults.forEach(function(a,b){f.clone().text(a).toggleClass(d.Active,b===l.activeIndex).appendTo(j).click(function(){l.onSelect(b),m()})}),j.show(),void k.show()):(j.hide(),void k.hide())};return k.on("click",function(){l.onBlur(),m()}),i.on("focus keyup",function(a){-1==[27,38,40,13].indexOf(a.keyCode)&&(l.searchText=i.val()||"",l.search()),m()}),i.on("keydown",function(a){l.onKeydown(a),m()}),{update:function(a){l.recompile(a),m()},setSelection:function(a){var b;l.searchText="",l.search(),b=l.searchResults.indexOf(a),b>-1?(l.onSelect(b),m()):l.cancelSelection()},getSelection:function(){return l.selection||null},clearSelection:function(){l.clearSelection()},getSearchables:function(){return l.searchables}}}var d={Container:"sc-autocomplete-container",Input:"sc-autocomplete-input",List:"sc-autocomplete-list",ScreenCover:"sc-autocomplete-screencover",ListItem:"sc-autocomplete-listitem",Active:"active"},e=b("<div/>",{"class":d.List}),f=b("<a/>",{"class":d.ListItem}),g=b("<input/>",{"class":d.Input,type:"text"}),h=b("<div/>",{"class":d.ScreenCover});b.fn.scAutocomplete=function(a){var d,e=b(this),f=e.data("_sc");return f||e.data("_sc",c(e)),b.isPlainObject(a)?e.scAutocomplete("update",a):(b.isFunction(f[a])&&(d=f[a].apply(null,Array.prototype.slice.call(arguments,1))),void 0===d?e:d)},b(function(){b(".sc-autocomplete").each(function(a,c){b(c).scAutocomplete()})})}(jQuery)}();